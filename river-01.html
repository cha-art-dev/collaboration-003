<html>
<head>
  <title>Art / Dev - Collaboration 3</title>
  <script src="p5.min.js"></script>
  <script>

  //=============== DO ALL YOUR WORK HERE =======================
  var IMAGE_WIDTH = 640;    // Don't change this.
  var IMAGE_HEIGHT = 540;   // Don't change this.
  
  var time = 0;
  var lastTime = 0;
  var points = [{x: 50,y: 100},{x: 200,y: 100},{x: 200,y: 500},{x: 50,y: 500}];
  var rad = 10;
  var selected = -1;
  var shade = 255;//102

  function setup() {
    createCanvas(IMAGE_WIDTH, IMAGE_HEIGHT); // don't change this
    //fill(0);
    noFill();
  }

  function draw() {
    //clear();
    background(shade,shade,shade,5);

    lastTime = time;
    time = millis();
    dt = time-lastTime;

    //curveTightness(noise(time/1000)*40 - 20);
    //curve(points[0].x, points[0].y,points[1].x, points[1].y,points[2].x, points[2].y,points[3].x, points[3].y);
    bezier(points[0].x, points[0].y,points[1].x, points[1].y,points[2].x, points[2].y,points[3].x, points[3].y);
    for (var i = 0; i < points.length; i++) {
      ellipse(points[i].x, points[i].y,rad,rad);
    }
  }

  function mousePressed() {
    for (var i = 0; i < points.length; i++) {
      //ellipse(points[i].x, points[i].y,10,10);
      if (mouseX < points[i].x - rad || mouseX > points[i].x + rad || mouseY > points[i].y + rad || mouseY < points[i].y - rad) {
      }else{
        selected = i;
        //console.log('click');
      }
    }
  }
  function mouseDragged() {
    if (selected > -0.5) {
      points[selected].x = mouseX;
      points[selected].y = mouseY;
    }

  }

  // =============== STOP WORKING HERE ==========================

  </script>
  <style>
    body { padding: 0; margin: 5% 0 0; background-color: #333;}
    canvas { margin: 0; }
  </style>
</head>
<body>
</body>
</html>

